<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bias Mitigation — Inter-Annotator Agreement | Dr. Ian McCullough, JHU</title>

    <!-- SEO Meta Tags -->
    <meta name="title" content="Bias Mitigation — Inter-Annotator Agreement & Data Quality">
    <meta name="description" content="Complete guide to bias mitigation through inter-annotator agreement measurement. Learn Cohen's Kappa, Fleiss' Kappa, and strategies for improving annotation quality and reducing bias.">
    <meta name="author" content="Sriramkishore Naraharisetti">
    <meta name="category" content="AI Bias and Risks">
    <meta name="tags" content="Bias Mitigation, Inter-Annotator Agreement, Cohen's Kappa, Fleiss' Kappa, Data Quality, Annotation Quality, Fairness, Bias Detection, IAA Metrics">
    <meta name="robots" content="index, follow">
    <meta name="ai-summary" content="Practical framework for measuring and reducing annotation bias using inter-annotator agreement metrics, with detailed guides to Cohen's Kappa, Fleiss' Kappa, and methods for improving data annotation quality.">
    <link rel="canonical" href="https://www.kishoretech.com/personal_blog/post.html?article=ai-bias-and-risks/bias_mitigation">

    <!-- Open Graph Tags -->
    <meta property="og:title" content="Bias Mitigation — Inter-Annotator Agreement & Data Quality">
    <meta property="og:description" content="Complete guide to bias mitigation through inter-annotator agreement measurement and data quality improvement.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.kishoretech.com/personal_blog/post.html?article=ai-bias-and-risks/bias_mitigation">
    <meta property="og:site_name" content="Kishore's Blog">
    <meta property="article:author" content="Sriramkishore Naraharisetti">
    <meta property="article:published_time" content="2025-02-22">
    <meta property="article:section" content="AI Bias and Risks">
    <meta property="article:tag" content="Bias Mitigation">
    <meta property="article:tag" content="Inter-Annotator Agreement">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "Bias Mitigation — Inter-Annotator Agreement & Data Quality",
        "description": "Complete guide to bias mitigation through inter-annotator agreement measurement with practical strategies.",
        "datePublished": "2025-02-22",
        "author": {
            "@type": "Person",
            "name": "Sriramkishore Naraharisetti",
            "url": "https://www.kishoretech.com"
        },
        "publisher": {
            "@type": "Organization",
            "name": "kishoretech.com",
            "url": "https://www.kishoretech.com"
        },
        "keywords": ["Bias Mitigation", "Inter-Annotator Agreement", "Cohen's Kappa", "Data Quality", "Annotation Quality"],
        "articleSection": "AI Bias and Risks"
    }
    </script>

    <!-- Google Fonts: Sora + DM Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700;800&family=DM+Sans:wght@400;500;600&display=swap"
        rel="stylesheet" />

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
        /* ── CSS Variables ─────────────────────────────────── */
        :root {
            --font-head: 'Sora', sans-serif;
            --font-body: 'DM Sans', sans-serif;
            --clr-bg: #FFFFFF;
            --clr-text: #1E293B;
            --clr-text-md: #475569;
            --clr-text-sm: #64748B;
            --clr-border: #E2E8F0;
            --clr-card: #FFFFFF;
            --radius: 14px;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.07);
            --shadow-hover: 0 6px 24px rgba(0, 0, 0, 0.13);
            --transition: all 0.3s ease;
            /* Section accent palette */
            --s-header-bg: #F0F9FF;
            --s-header-ac: #0EA5E9;
            --s-disagree-bg: #FFF7ED;
            --s-disagree-ac: #EA580C;
            --s-cv-bg: #FEF3C7;
            --s-cv-ac: #D97706;
            --s-iaa-bg: #F0FDFA;
            --s-iaa-ac: #0D9488;
            --s-metric-bg: #E0E7FF;
            --s-metric-ac: #6366F1;
            --s-bias-bg: #F3E8FF;
            --s-bias-ac: #8B5CF6;
            --s-guide-bg: #D1FAE5;
            --s-guide-ac: #10B981;
            --s-take-bg: #F0FDF4;
            --s-take-ac: #22C55E;
            --s-warn-bg: #FEF2F2;
            --s-warn-ac: #EF4444;
        }

        /* ── Reset & Base ──────────────────────────────────── */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background: var(--clr-bg);
            color: var(--clr-text);
            font-size: 14px;
            line-height: 1.65;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: var(--font-head);
            font-weight: 700;
        }

        /* ── Layout ────────────────────────────────────────── */
        .infographic {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px 64px;
        }

        /* ── Gradient Stripe ───────────────────────────────── */
        .rainbow-stripe {
            height: 5px;
            background: linear-gradient(90deg, #0EA5E9, #6366F1, #8B5CF6, #EC4899, #EF4444, #F59E0B, #10B981);
        }

        /* ── Section Wrapper ───────────────────────────────── */
        .section {
            border-radius: var(--radius);
            padding: 40px 36px;
            margin-top: 40px;
            position: relative;
        }

        .section-label {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: var(--font-head);
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 10px;
            padding: 4px 12px;
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.7);
        }

        .section-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 6px;
            line-height: 1.3;
        }

        .section-intro {
            font-size: 14px;
            color: var(--clr-text-md);
            margin-bottom: 28px;
            max-width: 680px;
        }

        .section-transition {
            margin-top: 28px;
            font-size: 13px;
            font-style: italic;
            color: var(--clr-text-sm);
            text-align: center;
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
            border: 1px solid var(--clr-border);
        }

        /* ── Cards ─────────────────────────────────────────── */
        .card {
            background: var(--clr-card);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border: 1px solid var(--clr-border);
            transition: var(--transition);
            cursor: pointer;
        }

        .card:hover {
            transform: scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 16px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 14px;
        }

        /* ── Icon Box ───────────────────────────────────────── */
        .icon-box {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .icon-box svg {
            width: 20px;
            height: 20px;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION A — HEADER */
        /* ───────────────────────────────────────────────────── */
        .s-header {
            background: var(--s-header-bg);
            text-align: center;
            padding: 52px 36px 40px;
            margin-top: 0;
            border-radius: 0 0 var(--radius) var(--radius);
        }

        .s-header .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: white;
            border: 1px solid #BAE6FD;
            padding: 5px 14px;
            border-radius: 30px;
            font-size: 12px;
            color: var(--s-header-ac);
            font-weight: 600;
            margin-bottom: 20px;
        }

        .s-header h1 {
            font-size: 34px;
            font-weight: 800;
            color: var(--clr-text);
            letter-spacing: -0.5px;
            line-height: 1.2;
            margin-bottom: 10px;
        }

        .s-header h1 span {
            color: var(--s-header-ac);
        }

        .s-header .subtitle {
            font-size: 15px;
            color: var(--clr-text-md);
            max-width: 620px;
            margin: 0 auto 16px;
        }

        .s-header .intro {
            font-size: 13px;
            color: var(--clr-text-sm);
            max-width: 580px;
            margin: 0 auto;
        }

        .s-header .attribution {
            margin-top: 22px;
            font-size: 12px;
            color: var(--clr-text-sm);
            font-style: italic;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION B — HUMAN EXPERTS DISAGREE */
        /* ───────────────────────────────────────────────────── */
        .s-disagree {
            background: var(--s-disagree-bg);
        }

        .s-disagree .section-label {
            color: var(--s-disagree-ac);
        }

        .s-disagree .section-title {
            color: #7C2D12;
        }

        .disagree-cards {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 18px;
        }

        .disagree-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border: 1px solid var(--clr-border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .disagree-card:hover {
            transform: scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .disagree-card.amber {
            border-top: 4px solid #F59E0B;
        }

        .disagree-card.orange {
            border-top: 4px solid #EA580C;
        }

        .disagree-card.red {
            border-top: 4px solid #EF4444;
        }

        .disagree-pct {
            font-family: var(--font-head);
            font-size: 52px;
            font-weight: 800;
            line-height: 1;
            margin: 10px 0 6px;
        }

        .amber .disagree-pct {
            color: #D97706;
        }

        .orange .disagree-pct {
            color: #EA580C;
        }

        .red .disagree-pct {
            color: #EF4444;
        }

        .disagree-card .card-title {
            font-family: var(--font-head);
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--clr-text-sm);
            margin-bottom: 6px;
        }

        .disagree-card .task-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--clr-text-md);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .disagree-card .task-text {
            font-size: 13px;
            color: var(--clr-text);
            margin-bottom: 10px;
        }

        .disagree-card .context-text {
            font-size: 12px;
            color: var(--clr-text-md);
            font-style: italic;
            margin-bottom: 14px;
        }

        .severity-bar {
            height: 6px;
            background: #F1F5F9;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 4px;
        }

        .severity-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .amber .severity-fill {
            background: #F59E0B;
        }

        .orange .severity-fill {
            background: #EA580C;
        }

        .red .severity-fill {
            background: #EF4444;
        }

        .severity-label {
            font-size: 11px;
            color: var(--clr-text-sm);
            margin-top: 4px;
            font-weight: 600;
        }

        .disagree-quote {
            margin-top: 28px;
            background: white;
            border-left: 4px solid var(--s-disagree-ac);
            padding: 18px 22px;
            border-radius: 0 10px 10px 0;
            box-shadow: var(--shadow);
            font-size: 14px;
            color: var(--clr-text);
            font-style: italic;
            line-height: 1.7;
        }

        .disagree-quote strong {
            font-style: normal;
            color: var(--s-disagree-ac);
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION C — COMPUTER VISION CASE STUDY */
        /* ───────────────────────────────────────────────────── */
        .s-cv {
            background: var(--s-cv-bg);
        }

        .s-cv .section-label {
            color: var(--s-cv-ac);
        }

        .s-cv .section-title {
            color: #78350F;
        }

        /* Annotation Panel */
        .annotation-panel {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border: 1px solid var(--clr-border);
            margin-bottom: 20px;
        }

        .annotation-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            flex: 1;
            padding: 10px 16px;
            border-radius: 10px;
            border: 2px solid transparent;
            font-family: var(--font-head);
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .toggle-btn.good {
            background: #F0FDF4;
            color: #15803D;
            border-color: #86EFAC;
        }

        .toggle-btn.good.active {
            background: #22C55E;
            color: white;
            border-color: #22C55E;
        }

        .toggle-btn.bad {
            background: #FEF2F2;
            color: #DC2626;
            border-color: #FECACA;
        }

        .toggle-btn.bad.active {
            background: #EF4444;
            color: white;
            border-color: #EF4444;
        }

        .annotation-view {
            display: none;
        }

        .annotation-view.active {
            display: block;
        }

        /* SVG annotation illustrations */
        .anno-svg {
            width: 100%;
            border-radius: 10px;
            background: #F8FAFC;
            border: 1px solid var(--clr-border);
        }

        /* Results panel */
        .results-btn {
            width: 100%;
            padding: 12px;
            background: var(--s-cv-ac);
            color: white;
            border: none;
            border-radius: 10px;
            font-family: var(--font-head);
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 16px;
        }

        .results-btn:hover {
            background: #B45309;
        }

        .results-panel {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .results-panel.visible {
            display: block;
        }

        .metric-row {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 0;
            border-bottom: 1px solid var(--clr-border);
        }

        .metric-row:last-child {
            border-bottom: none;
        }

        .metric-name {
            font-weight: 700;
            font-size: 13px;
            width: 80px;
            flex-shrink: 0;
        }

        .metric-change {
            font-size: 20px;
            font-weight: 800;
            font-family: var(--font-head);
            width: 40px;
            flex-shrink: 0;
            text-align: center;
        }

        .metric-desc {
            font-size: 13px;
            color: var(--clr-text-md);
            flex: 1;
        }

        .metric-bar-wrap {
            width: 140px;
            flex-shrink: 0;
        }

        .metric-bar {
            height: 8px;
            border-radius: 4px;
            background: #F1F5F9;
            overflow: hidden;
        }

        .metric-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        /* Insights */
        .cv-insights {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 20px;
        }

        .insight-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--clr-border);
            text-align: center;
        }

        .insight-arrow {
            font-size: 28px;
            margin-bottom: 6px;
        }

        .insight-card h4 {
            font-size: 16px;
            color: var(--clr-text);
            margin-bottom: 6px;
        }

        .insight-card p {
            font-size: 13px;
            color: var(--clr-text-md);
            font-style: italic;
        }

        /* Warning box */
        .warn-box {
            background: var(--s-warn-bg);
            border: 1.5px solid #FECACA;
            border-radius: var(--radius);
            padding: 18px 22px;
            margin-top: 20px;
            display: flex;
            gap: 14px;
            align-items: flex-start;
        }

        .warn-box .warn-icon {
            color: var(--s-warn-ac);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .warn-box .warn-title {
            font-family: var(--font-head);
            font-size: 13px;
            font-weight: 700;
            color: var(--s-warn-ac);
            margin-bottom: 4px;
        }

        .warn-box p {
            font-size: 13px;
            color: #7F1D1D;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION D — FIVE IAA CRITERIA */
        /* ───────────────────────────────────────────────────── */
        .s-iaa {
            background: var(--s-iaa-bg);
        }

        .s-iaa .section-label {
            color: var(--s-iaa-ac);
        }

        .s-iaa .section-title {
            color: #134E4A;
        }

        .criteria-list {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .criterion-card {
            background: white;
            border-radius: var(--radius);
            border: 1.5px solid var(--clr-border);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .criterion-card:hover {
            box-shadow: var(--shadow-hover);
        }

        .criterion-card.expanded .crit-body {
            display: block;
        }

        .crit-header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 18px 22px;
        }

        .crit-num {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-head);
            font-size: 16px;
            font-weight: 800;
            color: white;
            flex-shrink: 0;
        }

        .crit-name {
            font-family: var(--font-head);
            font-size: 16px;
            font-weight: 700;
            flex: 1;
            color: var(--clr-text);
        }

        .crit-summary {
            font-size: 13px;
            color: var(--clr-text-md);
        }

        .crit-chevron {
            color: var(--clr-text-sm);
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .criterion-card.expanded .crit-chevron {
            transform: rotate(180deg);
        }

        .crit-body {
            display: none;
            padding: 0 22px 20px;
            border-top: 1px solid var(--clr-border);
        }

        .crit-body .quote {
            font-size: 13px;
            font-style: italic;
            color: var(--clr-text-md);
            padding: 12px 16px;
            background: #F8FAFC;
            border-radius: 8px;
            margin-top: 12px;
            border-left: 3px solid var(--s-iaa-ac);
            line-height: 1.7;
        }

        .crit-body .detail {
            font-size: 13px;
            color: var(--clr-text);
            margin-top: 10px;
            line-height: 1.6;
        }

        /* Criterion colors */
        .c1 {
            background: #3B82F6;
        }

        .c2 {
            background: #8B5CF6;
        }

        .c3 {
            background: #F59E0B;
        }

        .c4 {
            background: #10B981;
        }

        .c5 {
            background: #EF4444;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION E — METRIC COMPARISON */
        /* ───────────────────────────────────────────────────── */
        .s-metric {
            background: var(--s-metric-bg);
        }

        .s-metric .section-label {
            color: var(--s-metric-ac);
        }

        .s-metric .section-title {
            color: #1E1B4B;
        }

        .metric-compare {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: white;
            border-radius: var(--radius);
            padding: 26px;
            box-shadow: var(--shadow);
            border: 1.5px solid var(--clr-border);
            transition: var(--transition);
        }

        .metric-card:hover {
            box-shadow: var(--shadow-hover);
        }

        .metric-card.recommended {
            border-color: #22C55E;
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.15);
        }

        .metric-card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 14px;
            gap: 10px;
        }

        .metric-card h3 {
            font-size: 17px;
            font-weight: 800;
            color: var(--clr-text);
            line-height: 1.2;
        }

        .badge-rec {
            background: #22C55E;
            color: white;
            font-size: 10px;
            font-weight: 800;
            font-family: var(--font-head);
            letter-spacing: 0.1em;
            padding: 4px 10px;
            border-radius: 20px;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .metric-desc-text {
            font-size: 13px;
            color: var(--clr-text-md);
            font-style: italic;
            margin-bottom: 16px;
            padding: 10px;
            background: #F8FAFC;
            border-radius: 8px;
        }

        .criteria-check-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
            margin-bottom: 14px;
        }

        .check-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .check-item .chk {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 800;
            flex-shrink: 0;
        }

        .chk.pass {
            background: #DCFCE7;
            color: #16A34A;
        }

        .chk.fail {
            background: #FEE2E2;
            color: #DC2626;
        }

        .metric-card .limitations {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--clr-border);
        }

        .limitation-item {
            font-size: 12px;
            color: #7F1D1D;
            margin-bottom: 6px;
            display: flex;
            gap: 6px;
        }

        .formula-box {
            margin: 14px 0;
            background: #EEF2FF;
            border-radius: 10px;
            padding: 12px 16px;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            font-weight: 700;
            color: var(--s-metric-ac);
            border: 1px solid #C7D2FE;
        }

        .literacy-sidebar {
            background: white;
            border: 1.5px solid #C7D2FE;
            border-radius: var(--radius);
            padding: 18px 22px;
            margin-top: 4px;
            margin-bottom: 20px;
        }

        .literacy-sidebar h4 {
            font-size: 13px;
            font-weight: 700;
            color: var(--s-metric-ac);
            margin-bottom: 8px;
        }

        .literacy-sidebar p {
            font-size: 13px;
            color: var(--clr-text-md);
        }

        /* F-Measure warning */
        .fmeasure-warn {
            background: var(--s-warn-bg);
            border: 2px solid var(--s-warn-ac);
            border-radius: var(--radius);
            padding: 22px 24px;
        }

        .fmeasure-warn .fw-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 14px;
        }

        .fmeasure-warn .fw-title {
            font-family: var(--font-head);
            font-size: 16px;
            font-weight: 800;
            color: var(--s-warn-ac);
        }

        .fmeasure-warn .fw-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .fw-block {
            background: white;
            border-radius: 10px;
            padding: 14px;
            border: 1px solid #FECACA;
        }

        .fw-block h5 {
            font-size: 12px;
            font-weight: 700;
            color: var(--clr-text);
            margin-bottom: 6px;
        }

        .fw-block p {
            font-size: 13px;
            color: #7F1D1D;
            font-style: italic;
            line-height: 1.6;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION F — TYPES OF DATA BIAS */
        /* ───────────────────────────────────────────────────── */
        .s-bias {
            background: var(--s-bias-bg);
        }

        .s-bias .section-label {
            color: var(--s-bias-ac);
        }

        .s-bias .section-title {
            color: #3B0764;
        }

        .bias-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 18px;
        }

        .bias-col-header {
            font-family: var(--font-head);
            font-size: 14px;
            font-weight: 700;
            padding: 8px 14px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 10px;
        }

        .bias-col-wrap {
            display: flex;
            flex-direction: column;
        }

        .bias-col-header.collection {
            background: #DBEAFE;
            color: #1D4ED8;
        }

        .bias-col-header.labeling {
            background: #FEF3C7;
            color: #B45309;
        }

        .bias-col-header.representation {
            background: #D1FAE5;
            color: #065F46;
        }

        .bias-card {
            background: white;
            border-radius: 10px;
            padding: 14px 16px;
            box-shadow: 0 1px 6px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--clr-border);
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .bias-card:hover {
            transform: scale(1.01);
            box-shadow: var(--shadow);
        }

        .bias-col-wrap.labeling-col .bias-card {
            border-left: 3px solid var(--s-cv-ac);
        }

        .bias-card .bias-name {
            font-family: var(--font-head);
            font-size: 13px;
            font-weight: 700;
            color: var(--clr-text);
            margin-bottom: 4px;
        }

        .bias-card .bias-desc {
            font-size: 12px;
            color: var(--clr-text-md);
            line-height: 1.5;
        }

        .labeling-primary-badge {
            display: inline-block;
            background: #FEF3C7;
            color: #B45309;
            font-size: 10px;
            font-weight: 800;
            font-family: var(--font-head);
            letter-spacing: 0.08em;
            padding: 2px 8px;
            border-radius: 20px;
            margin-left: 8px;
            vertical-align: middle;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION G — PRACTICAL GUIDELINES */
        /* ───────────────────────────────────────────────────── */
        .s-guide {
            background: var(--s-guide-bg);
        }

        .s-guide .section-label {
            color: var(--s-guide-ac);
        }

        .s-guide .section-title {
            color: #064E3B;
        }

        .guide-flow {
            position: relative;
        }

        .guide-cards {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 14px;
        }

        .guide-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--clr-border);
            position: relative;
        }

        .guide-card .phase-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 14px;
        }

        .phase-icon-wrap {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .phase-name {
            font-family: var(--font-head);
            font-size: 14px;
            font-weight: 800;
            color: var(--clr-text);
        }

        .guide-list {
            list-style: none;
        }

        .guide-list li {
            font-size: 12px;
            color: var(--clr-text-md);
            padding: 4px 0;
            display: flex;
            gap: 6px;
            align-items: flex-start;
        }

        .guide-list li::before {
            content: '→';
            color: var(--s-guide-ac);
            font-weight: 700;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .guide-arrow {
            text-align: center;
            font-size: 13px;
            color: var(--clr-text-sm);
            margin-top: 16px;
            font-style: italic;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION H — KEY TAKEAWAYS */
        /* ───────────────────────────────────────────────────── */
        .s-take {
            background: var(--s-take-bg);
        }

        .s-take .section-label {
            color: var(--s-take-ac);
        }

        .s-take .section-title {
            color: #14532D;
        }

        .takeaway-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .takeaway-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px 22px;
            box-shadow: var(--shadow);
            border: 1.5px solid var(--clr-border);
            display: flex;
            gap: 14px;
            align-items: flex-start;
            transition: var(--transition);
        }

        .takeaway-card:hover {
            box-shadow: var(--shadow-hover);
            transform: scale(1.01);
        }

        .takeaway-card.highlight {
            border-color: var(--s-take-ac);
            background: linear-gradient(135deg, #F0FDF4, white);
        }

        .takeaway-num {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--s-take-ac);
            color: white;
            font-family: var(--font-head);
            font-size: 13px;
            font-weight: 800;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .takeaway-card p {
            font-size: 13px;
            color: var(--clr-text);
            line-height: 1.6;
        }

        .takeaway-card em {
            font-style: italic;
            color: var(--clr-text-md);
        }

        .final-cta {
            margin-top: 22px;
            background: linear-gradient(135deg, #0D9488, #10B981);
            border-radius: var(--radius);
            padding: 22px 28px;
            text-align: center;
            color: white;
        }

        .final-cta p {
            font-size: 18px;
            font-weight: 700;
            font-family: var(--font-head);
        }

        .final-cta small {
            font-size: 13px;
            opacity: 0.85;
        }

        /* ───────────────────────────────────────────────────── */
        /* SECTION I — FOOTER */
        /* ───────────────────────────────────────────────────── */
        .s-footer {
            text-align: center;
            padding: 32px 36px;
            border-top: 1px solid var(--clr-border);
            margin-top: 40px;
        }

        .s-footer p {
            font-size: 13px;
            color: var(--clr-text-md);
            margin-bottom: 4px;
        }

        .s-footer .foot-attr {
            font-weight: 700;
            color: var(--clr-text);
            font-size: 14px;
        }

        /* ── Animations ─────────────────────────────────────── */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            opacity: 0;
            animation: slideUp 0.6s ease forwards;
        }

        .fade-in:nth-child(1) {
            animation-delay: 0.05s;
        }

        .fade-in:nth-child(2) {
            animation-delay: 0.15s;
        }

        .fade-in:nth-child(3) {
            animation-delay: 0.25s;
        }

        .fade-in:nth-child(4) {
            animation-delay: 0.35s;
        }

        .fade-in:nth-child(5) {
            animation-delay: 0.45s;
        }

        /* ── Print Styles ───────────────────────────────────── */
        @media print {
            * {
                box-shadow: none !important;
                animation: none !important;
                transform: none !important;
            }

            body {
                font-size: 12px;
            }

            .card,
            .disagree-card,
            .criterion-card,
            .metric-card,
            .bias-card,
            .guide-card,
            .takeaway-card {
                border: 1px solid #CBD5E1 !important;
            }

            .criterion-card .crit-body {
                display: block !important;
            }

            .results-panel {
                display: block !important;
            }

            .annotation-view {
                display: block !important;
            }

            .s-header,
            .section {
                page-break-inside: avoid;
            }

            .rainbow-stripe {
                background: #0EA5E9;
            }
        }

        /* ── Responsive ─────────────────────────────────────── */
        @media (max-width: 700px) {
            .infographic {
                padding: 0 12px 40px;
            }

            .section {
                padding: 28px 18px;
            }

            .s-header {
                padding: 36px 18px 28px;
            }

            .s-header h1 {
                font-size: 24px;
            }

            .disagree-cards,
            .grid-2,
            .grid-3,
            .grid-4,
            .metric-compare,
            .bias-grid,
            .guide-cards,
            .takeaway-grid,
            .cv-insights,
            .fmeasure-warn .fw-body,
            .criteria-check-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>

<body>

    <!-- Rainbow Gradient Stripe -->
    <div class="rainbow-stripe"></div>

    <div class="infographic">

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION A — HEADER                                      -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-header" aria-label="Header">
            <div class="badge">
                <i data-lucide="brain" style="width:14px;height:14px;"></i>
                AI Bias Education Series
            </div>
            <h1>Bias <span>Mitigation</span></h1>
            <p class="subtitle">How Human Disagreement, Annotation Quality, and Inter-Annotator Agreement Shape AI
                Performance</p>
            <p class="intro">Human experts disagree far more than expected — and that disagreement directly degrades AI
                systems. This infographic explores how to measure, understand, and manage annotation bias using
                inter-annotator agreement.</p>
            <p class="attribution">Source: Dr. Ian McCullough · Johns Hopkins University · Lecture on Bias Mitigation
                &amp; Inter-Annotator Agreement</p>
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION B — HUMAN EXPERTS DISAGREE                      -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-disagree" aria-label="Human Expert Disagreement">
            <div class="section-label">
                <i data-lucide="alert-circle" style="width:13px;height:13px;"></i>
                Opening Reality Check
            </div>
            <h2 class="section-title">Human Experts Often Disagree</h2>
            <p class="section-intro">The assumption that expert-labeled data is reliable is dangerously wrong.
                Real-world disagreement rates reveal just how biased your training data may already be.</p>

            <div class="disagree-cards">

                <!-- Card 1: 17% -->
                <div class="disagree-card amber fade-in" role="article">
                    <div style="display:flex;align-items:center;gap:10px;margin-bottom:6px;">
                        <div class="icon-box" style="background:#FEF3C7;">
                            <i data-lucide="mail" style="color:#D97706;"></i>
                        </div>
                        <span class="card-title">Address Resolution</span>
                    </div>
                    <div class="disagree-pct">17%</div>
                    <div class="task-label">Task</div>
                    <div class="task-text">Classify address-related issues for the U.S. Postal Service during COVID
                    </div>
                    <div class="context-text">Postal experts could not agree on how to classify the issue — even with
                        clear domain expertise.</div>
                    <div class="severity-bar">
                        <div class="severity-fill" style="width:17%;"></div>
                    </div>
                    <div class="severity-label">MODERATE — 17% disagreement rate</div>
                </div>

                <!-- Card 2: 32% -->
                <div class="disagree-card orange fade-in" role="article">
                    <div style="display:flex;align-items:center;gap:10px;margin-bottom:6px;">
                        <div class="icon-box" style="background:#FFEDD5;">
                            <i data-lucide="globe" style="color:#EA580C;"></i>
                        </div>
                        <span class="card-title">Online Extremism</span>
                    </div>
                    <div class="disagree-pct">32%</div>
                    <div class="task-label">Task</div>
                    <div class="task-text">Classify forums as pro-Al-Qaeda or pro-America for a $26M U.S.
                        Counter-Extremism Program</div>
                    <div class="context-text">Native speakers actively promoting a moderate voice — yet disagreed nearly
                        a third of the time.</div>
                    <div class="severity-bar">
                        <div class="severity-fill" style="width:32%;"></div>
                    </div>
                    <div class="severity-label">HIGH — 32% disagreement rate</div>
                </div>

                <!-- Card 3: 72% -->
                <div class="disagree-card red fade-in" role="article">
                    <div style="display:flex;align-items:center;gap:10px;margin-bottom:6px;">
                        <div class="icon-box" style="background:#FEE2E2;">
                            <i data-lucide="heart-pulse" style="color:#EF4444;"></i>
                        </div>
                        <span class="card-title">Medical Disability Claims</span>
                    </div>
                    <div class="disagree-pct">72%</div>
                    <div class="task-label">Task</div>
                    <div class="task-text">Estimate outcomes and label disability claim data</div>
                    <div class="context-text">Medical experts were not agreeing on the label of the data nearly
                        three-quarters of the time.</div>
                    <div class="severity-bar">
                        <div class="severity-fill" style="width:72%;"></div>
                    </div>
                    <div class="severity-label">CRITICAL — 72% disagreement rate</div>
                </div>

            </div><!-- /disagree-cards -->

            <blockquote class="disagree-quote">
                <strong>"When humans disagree, it creates a huge bias in your AI system,</strong> and it's unlikely to
                expect that the AI is going to do better initially than human agreement." <br>
                <span style="font-size:12px;color:var(--clr-text-sm);font-style:normal;">— Dr. Ian McCullough, Johns
                    Hopkins University</span>
            </blockquote>

            <div class="section-transition">So what happens when this disagreement enters your AI system? →</div>
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION C — COMPUTER VISION CASE STUDY                  -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-cv" aria-label="Computer Vision Case Study">
            <div class="section-label">
                <i data-lucide="scan" style="width:13px;height:13px;"></i>
                Impact on AI Performance
            </div>
            <h2 class="section-title">Computer Vision Case Study: How Annotation Quality Shapes Results</h2>
            <p class="section-intro">Task: Four annotators labeling people, vehicles, and bicycles in images. Drop one
                inconsistent annotator — and watch precision and recall shift in opposite directions.</p>

            <!-- Annotation Toggle Panel -->
            <div class="annotation-panel">
                <div class="annotation-toggle">
                    <button class="toggle-btn good active" onclick="switchAnnotation('good')" aria-pressed="true">
                        <i data-lucide="check-square" style="width:16px;height:16px;"></i>
                        Good Annotation
                    </button>
                    <button class="toggle-btn bad" onclick="switchAnnotation('bad')" aria-pressed="false">
                        <i data-lucide="x-square" style="width:16px;height:16px;"></i>
                        Bad Annotation
                    </button>
                </div>

                <!-- Good Annotation View -->
                <div class="annotation-view active" id="view-good">
                    <svg class="anno-svg" viewBox="0 0 800 280" xmlns="http://www.w3.org/2000/svg"
                        aria-label="Good annotation: tight bounding boxes">
                        <rect width="800" height="280" fill="#F8FAFC" />
                        <!-- Road -->
                        <rect x="0" y="210" width="800" height="70" fill="#E2E8F0" />
                        <rect x="0" y="205" width="800" height="8" fill="#CBD5E1" />
                        <!-- Lane markings -->
                        <rect x="120" y="228" width="60" height="6" rx="3" fill="#94A3B8" />
                        <rect x="300" y="228" width="60" height="6" rx="3" fill="#94A3B8" />
                        <rect x="480" y="228" width="60" height="6" rx="3" fill="#94A3B8" />
                        <rect x="660" y="228" width="60" height="6" rx="3" fill="#94A3B8" />

                        <!-- Person 1 — tight green box -->
                        <rect x="80" y="90" width="60" height="120" rx="3" fill="#6EE7B7" opacity="0.3" />
                        <rect x="80" y="90" width="60" height="120" rx="3" fill="none" stroke="#10B981"
                            stroke-width="2.5" />
                        <!-- Person body -->
                        <ellipse cx="110" cy="108" rx="18" ry="18" fill="#FDE68A" />
                        <rect x="96" y="126" width="28" height="50" rx="5" fill="#3B82F6" />
                        <rect x="88" y="132" width="14" height="38" rx="6" fill="#3B82F6" />
                        <rect x="118" y="132" width="14" height="38" rx="6" fill="#3B82F6" />
                        <rect x="92" y="176" width="16" height="30" rx="5" fill="#1E40AF" />
                        <rect x="112" y="176" width="16" height="30" rx="5" fill="#1E40AF" />
                        <text x="80" y="86" fill="#10B981" font-size="11" font-weight="700"
                            font-family="DM Sans,sans-serif">Person</text>

                        <!-- Car — tight blue box -->
                        <rect x="230" y="130" width="200" height="80" rx="4" fill="#BFDBFE" opacity="0.3" />
                        <rect x="230" y="130" width="200" height="80" rx="4" fill="none" stroke="#3B82F6"
                            stroke-width="2.5" />
                        <!-- Car body -->
                        <rect x="245" y="155" width="170" height="45" rx="6" fill="#60A5FA" />
                        <rect x="265" y="138" width="130" height="30" rx="5" fill="#93C5FD" />
                        <ellipse cx="275" cy="208" rx="18" ry="8" fill="#1E293B" />
                        <ellipse cx="385" cy="208" rx="18" ry="8" fill="#1E293B" />
                        <text x="230" y="126" fill="#3B82F6" font-size="11" font-weight="700"
                            font-family="DM Sans,sans-serif">Vehicle</text>

                        <!-- Bicycle — tight purple box -->
                        <rect x="540" y="130" width="120" height="85" rx="4" fill="#DDD6FE" opacity="0.3" />
                        <rect x="540" y="130" width="120" height="85" rx="4" fill="none" stroke="#8B5CF6"
                            stroke-width="2.5" />
                        <!-- Bike shape -->
                        <circle cx="565" cy="195" r="25" fill="none" stroke="#7C3AED" stroke-width="3" />
                        <circle cx="635" cy="195" r="25" fill="none" stroke="#7C3AED" stroke-width="3" />
                        <line x1="565" y1="195" x2="600" y2="155" stroke="#7C3AED" stroke-width="3" />
                        <line x1="600" y1="155" x2="635" y2="195" stroke="#7C3AED" stroke-width="3" />
                        <line x1="588" y1="155" x2="612" y2="155" stroke="#7C3AED" stroke-width="3" />
                        <circle cx="600" cy="150" r="8" fill="#DDD6FE" stroke="#7C3AED" stroke-width="2" />
                        <text x="540" y="126" fill="#8B5CF6" font-size="11" font-weight="700"
                            font-family="DM Sans,sans-serif">Bicycle</text>

                        <!-- Labels -->
                        <text x="390" y="26" fill="#10B981" font-size="16" font-weight="800"
                            font-family="Sora,sans-serif" text-anchor="middle">✓ Good Annotation</text>
                        <text x="390" y="46" fill="#64748B" font-size="12" font-family="DM Sans,sans-serif"
                            text-anchor="middle">Tight bounding boxes · Minimal overlap · Clear separation</text>
                    </svg>
                </div>

                <!-- Bad Annotation View -->
                <div class="annotation-view" id="view-bad">
                    <svg class="anno-svg" viewBox="0 0 800 280" xmlns="http://www.w3.org/2000/svg"
                        aria-label="Bad annotation: overlapping bounding boxes">
                        <rect width="800" height="280" fill="#F8FAFC" />
                        <!-- Road -->
                        <rect x="0" y="210" width="800" height="70" fill="#E2E8F0" />
                        <rect x="0" y="205" width="800" height="8" fill="#CBD5E1" />
                        <rect x="120" y="228" width="60" height="6" rx="3" fill="#94A3B8" />
                        <rect x="300" y="228" width="60" height="6" rx="3" fill="#94A3B8" />
                        <rect x="480" y="228" width="60" height="6" rx="3" fill="#94A3B8" />
                        <rect x="660" y="228" width="60" height="6" rx="3" fill="#94A3B8" />

                        <!-- Person (same) -->
                        <ellipse cx="110" cy="108" rx="18" ry="18" fill="#FDE68A" />
                        <rect x="96" y="126" width="28" height="50" rx="5" fill="#3B82F6" />
                        <rect x="88" y="132" width="14" height="38" rx="6" fill="#3B82F6" />
                        <rect x="118" y="132" width="14" height="38" rx="6" fill="#3B82F6" />
                        <rect x="92" y="176" width="16" height="30" rx="5" fill="#1E40AF" />
                        <rect x="112" y="176" width="16" height="30" rx="5" fill="#1E40AF" />

                        <!-- Car (same) -->
                        <rect x="245" y="155" width="170" height="45" rx="6" fill="#60A5FA" />
                        <rect x="265" y="138" width="130" height="30" rx="5" fill="#93C5FD" />
                        <ellipse cx="275" cy="208" rx="18" ry="8" fill="#1E293B" />
                        <ellipse cx="385" cy="208" rx="18" ry="8" fill="#1E293B" />

                        <!-- Bike (same) -->
                        <circle cx="565" cy="195" r="25" fill="none" stroke="#7C3AED" stroke-width="3" />
                        <circle cx="635" cy="195" r="25" fill="none" stroke="#7C3AED" stroke-width="3" />
                        <line x1="565" y1="195" x2="600" y2="155" stroke="#7C3AED" stroke-width="3" />
                        <line x1="600" y1="155" x2="635" y2="195" stroke="#7C3AED" stroke-width="3" />
                        <line x1="588" y1="155" x2="612" y2="155" stroke="#7C3AED" stroke-width="3" />
                        <circle cx="600" cy="150" r="8" fill="#DDD6FE" stroke="#7C3AED" stroke-width="2" />

                        <!-- WIDE, OVERLAPPING BAD BOXES -->
                        <!-- Person — huge box overlapping car space -->
                        <rect x="55" y="70" width="200" height="145" rx="3" fill="#FEE2E2" opacity="0.3" />
                        <rect x="55" y="70" width="200" height="145" rx="3" fill="none" stroke="#EF4444"
                            stroke-width="2.5" stroke-dasharray="6 3" />
                        <text x="55" y="66" fill="#EF4444" font-size="11" font-weight="700"
                            font-family="DM Sans,sans-serif">Person (WIDE)</text>

                        <!-- Car — box extends into person AND bike areas -->
                        <rect x="180" y="110" width="360" height="110" rx="3" fill="#FECACA" opacity="0.25" />
                        <rect x="180" y="110" width="360" height="110" rx="3" fill="none" stroke="#EF4444"
                            stroke-width="2.5" stroke-dasharray="6 3" />
                        <text x="180" y="106" fill="#EF4444" font-size="11" font-weight="700"
                            font-family="DM Sans,sans-serif">Vehicle (OVERLAPPING)</text>

                        <!-- Bike — box overlaps car area -->
                        <rect x="490" y="105" width="260" height="115" rx="3" fill="#FEE2E2" opacity="0.25" />
                        <rect x="490" y="105" width="260" height="115" rx="3" fill="none" stroke="#EF4444"
                            stroke-width="2.5" stroke-dasharray="6 3" />
                        <text x="490" y="101" fill="#EF4444" font-size="11" font-weight="700"
                            font-family="DM Sans,sans-serif">Bicycle (OVERLAPPING)</text>

                        <!-- Overlap indicators -->
                        <text x="400" y="26" fill="#EF4444" font-size="16" font-weight="800"
                            font-family="Sora,sans-serif" text-anchor="middle">✗ Bad Annotation</text>
                        <text x="400" y="46" fill="#64748B" font-size="12" font-family="DM Sans,sans-serif"
                            text-anchor="middle">Wide bounding boxes · Significant overlap · Inconsistent
                            labeling</text>
                    </svg>
                </div>

                <!-- Results Button -->
                <button class="results-btn" onclick="toggleResults()" style="margin-top:18px;">
                    👁 Drop Inconsistent Annotator → See Results
                </button>
                <div class="results-panel" id="results-panel">
                    <div class="metric-row">
                        <div class="metric-name">Precision</div>
                        <div class="metric-change" style="color:#10B981;">↑</div>
                        <div class="metric-desc"><strong>Went up significantly</strong> — "When I say it's an object,
                            it's the object."</div>
                        <div class="metric-bar-wrap">
                            <div class="metric-bar">
                                <div class="metric-bar-fill" style="width:82%;background:#10B981;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-name">Recall</div>
                        <div class="metric-change" style="color:#EF4444;">↓</div>
                        <div class="metric-desc"><strong>Went down</strong> — fewer annotators, fewer objects found. "Do
                            I find all of the objects?"</div>
                        <div class="metric-bar-wrap">
                            <div class="metric-bar">
                                <div class="metric-bar-fill" style="width:55%;background:#EF4444;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="metric-row">
                        <div class="metric-name">F1 Score</div>
                        <div class="metric-change" style="color:#6366F1;">≈</div>
                        <div class="metric-desc"><strong>Comparable</strong> across configurations — "A harmonic average
                            of those two measures."</div>
                        <div class="metric-bar-wrap">
                            <div class="metric-bar">
                                <div class="metric-bar-fill" style="width:68%;background:#6366F1;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Key Insights -->
            <div class="cv-insights">
                <div class="insight-card">
                    <div class="insight-arrow">🎯</div>
                    <h4>Consistency → <span style="color:#10B981;">Precision</span></h4>
                    <p>"Annotation consistency or that agreement in your labels is necessary for precision."</p>
                </div>
                <div class="insight-card">
                    <div class="insight-arrow">📦</div>
                    <h4>Volume → <span style="color:#3B82F6;">Recall</span></h4>
                    <p>"Data volume is necessary for recall. In time, you're going to get more and more data."</p>
                </div>
            </div>

            <!-- Technical Debt Warning -->
            <div class="warn-box" style="margin-top:20px;">
                <div class="warn-icon"><i data-lucide="alert-triangle" style="width:22px;height:22px;"></i></div>
                <div>
                    <div class="warn-title">⚠ TECHNICAL DEBT WARNING</div>
                    <p>"If you do not address the consistency of your labels upfront and early, you're going to be
                        incurring technical debt that is not easy to recover from." — Dr. Ian McCullough</p>
                </div>
            </div>

            <div class="section-transition">How do we measure this disagreement systematically? →</div>
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION D — FIVE IAA CRITERIA                           -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-iaa" aria-label="Five IAA Criteria">
            <div class="section-label">
                <i data-lucide="clipboard-list" style="width:13px;height:13px;"></i>
                Core Framework · Primary Section
            </div>
            <h2 class="section-title">Five Criteria for a Good Inter-Annotator Agreement Metric</h2>
            <p class="section-intro">"How might we measure the disagreement? Inter-annotator agreement is one solution."
                — Dr. McCullough. Not all IAA metrics are created equal. Here are the five criteria any good metric must
                satisfy.</p>

            <div class="criteria-list">

                <!-- Criterion 1 -->
                <div class="criterion-card" onclick="toggleCriterion(this)" aria-expanded="false">
                    <div class="crit-header">
                        <div class="crit-num c1">1</div>
                        <div class="icon-box" style="background:#EFF6FF;"><i data-lucide="user-x"
                                style="color:#3B82F6;"></i></div>
                        <div style="flex:1;">
                            <div class="crit-name">Independent Assessment</div>
                            <div class="crit-summary">Annotators assess content independently — no collusion, no debate
                            </div>
                        </div>
                        <div class="crit-chevron"><i data-lucide="chevron-down" style="width:18px;height:18px;"></i>
                        </div>
                    </div>
                    <div class="crit-body">
                        <div class="quote">"Assess the agreement of two or more observers who are independently
                            assessing the content. When they're colluding on the content and debating the label, this is
                            not the right application."</div>
                        <p class="detail">The AI cannot discuss with you why you labeled something the way you did — so
                            the people doing it shouldn't either. This gives you a more objective view of how easy it is
                            to apply the criteria and label the data correctly.</p>
                    </div>
                </div>

                <!-- Criterion 2 -->
                <div class="criterion-card" onclick="toggleCriterion(this)" aria-expanded="false">
                    <div class="crit-header">
                        <div class="crit-num c2">2</div>
                        <div class="icon-box" style="background:#F5F3FF;"><i data-lucide="layers"
                                style="color:#8B5CF6;"></i></div>
                        <div style="flex:1;">
                            <div class="crit-name">Not Confounded by Categories</div>
                            <div class="crit-summary">The metric must handle multiple categories cleanly without
                                becoming ambiguous</div>
                        </div>
                        <div class="crit-chevron"><i data-lucide="chevron-down" style="width:18px;height:18px;"></i>
                        </div>
                    </div>
                    <div class="crit-body">
                        <div class="quote">"Your index should not be confounded by a bunch of different categories or
                            scale points. It should be a very clear label or box."</div>
                        <p class="detail">When there are four labels to assess, does "agreement" mean agreement on one
                            label or all four? The metric must handle this unambiguously — otherwise category count
                            itself biases your measure.</p>
                    </div>
                </div>

                <!-- Criterion 3 -->
                <div class="criterion-card" onclick="toggleCriterion(this)" aria-expanded="false">
                    <div class="crit-header">
                        <div class="crit-num c3">3</div>
                        <div class="icon-box" style="background:#FFFBEB;"><i data-lucide="bar-chart-2"
                                style="color:#F59E0B;"></i></div>
                        <div style="flex:1;">
                            <div class="crit-name">Numeric Scale: Zero to One</div>
                            <div class="crit-summary">A standardized 0–1 scale enables meaningful comparison across
                                projects</div>
                        </div>
                        <div class="crit-chevron"><i data-lucide="chevron-down" style="width:18px;height:18px;"></i>
                        </div>
                    </div>
                    <div class="crit-body">
                        <div class="quote">"There should be a numeric scale in your index that goes between zero and
                            one, so you can compare it or you can have some sort of idea of what's good or bad."</div>
                        <p class="detail">Complete disagreement must be possible as an outcome (zero). A metric that
                            never reaches zero — because random chance produces some agreement — is biased toward higher
                            scores and is therefore misleading.</p>
                    </div>
                </div>

                <!-- Criterion 4 -->
                <div class="criterion-card" onclick="toggleCriterion(this)" aria-expanded="false">
                    <div class="crit-header">
                        <div class="crit-num c4">4</div>
                        <div class="icon-box" style="background:#ECFDF5;"><i data-lucide="sigma"
                                style="color:#10B981;"></i></div>
                        <div style="flex:1;">
                            <div class="crit-name">Consistent Mathematical Structure</div>
                            <div class="crit-summary">Must work across nominal, categorical, and other data types
                                without bias</div>
                        </div>
                        <div class="crit-chevron"><i data-lucide="chevron-down" style="width:18px;height:18px;"></i>
                        </div>
                    </div>
                    <div class="crit-body">
                        <div class="quote">"You need to have a consistent mathematical structure across different forms
                            of data so that your data source is not biasing the algorithm or the measure."</div>
                        <p class="detail">A metric that only works for nominal data (yes/no) fails the moment your
                            dataset includes ordinal or interval scale annotations. The mathematical structure must hold
                            regardless of data type.</p>
                    </div>
                </div>

                <!-- Criterion 5 -->
                <div class="criterion-card" onclick="toggleCriterion(this)" aria-expanded="false">
                    <div class="crit-header">
                        <div class="crit-num c5">5</div>
                        <div class="icon-box" style="background:#FEF2F2;"><i data-lucide="target"
                                style="color:#EF4444;"></i></div>
                        <div style="flex:1;">
                            <div class="crit-name">Known Sampling Behavior</div>
                            <div class="crit-summary">Sampling must be consistent and transparent — no hidden sampling
                                bias</div>
                        </div>
                        <div class="crit-chevron"><i data-lucide="chevron-down" style="width:18px;height:18px;"></i>
                        </div>
                    </div>
                    <div class="crit-body">
                        <div class="quote">"You should know the sampling behavior so that it's consistent and there's no
                            sampling bias introduced."</div>
                        <p class="detail">If the sampling process systematically under- or over-represents certain
                            annotation cases, your agreement metric will be skewed. Knowing and controlling the sampling
                            distribution is essential for valid IAA measurement.</p>
                    </div>
                </div>

            </div><!-- /criteria-list -->
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION E — METRIC COMPARISON                           -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-metric" aria-label="Metric Comparison">
            <div class="section-label">
                <i data-lucide="award" style="width:13px;height:13px;"></i>
                IAA Metric Comparison · Primary Content
            </div>
            <h2 class="section-title">Percent Agreement vs. Krippendorff's Alpha</h2>
            <p class="section-intro">Not all IAA metrics meet all five criteria. Here's how the two most common
                approaches compare — and which one is the gold standard.</p>

            <div class="metric-compare">

                <!-- Percent Agreement -->
                <div class="metric-card">
                    <div class="metric-card-header">
                        <div>
                            <div
                                style="font-size:11px;font-weight:700;letter-spacing:0.08em;color:var(--clr-text-sm);margin-bottom:4px;">
                                LIMITED USE</div>
                            <h3>Percent Agreement</h3>
                        </div>
                        <div class="icon-box" style="background:#FEF3C7;"><i data-lucide="percent"
                                style="color:#D97706;width:20px;height:20px;"></i></div>
                    </div>
                    <p class="metric-desc-text">"Really easy to wrap your head around — how consistent are people, do
                        they agree or disagree?"</p>

                    <div style="font-size:12px;font-weight:700;color:var(--clr-text-sm);margin-bottom:8px;">CRITERIA MET
                        vs. FAILED</div>
                    <div class="criteria-check-grid">
                        <div class="check-item"><span class="chk pass">✓</span> Criterion 1</div>
                        <div class="check-item"><span class="chk fail">✗</span> Criterion 2</div>
                        <div class="check-item"><span class="chk fail">✗</span> Criterion 3</div>
                        <div class="check-item"><span class="chk fail">✗</span> Criterion 4</div>
                        <div class="check-item"><span class="chk fail">✗</span> Criterion 5</div>
                    </div>

                    <div class="limitations">
                        <div style="font-size:12px;font-weight:700;color:#B45309;margin-bottom:8px;">WHY IT FALLS SHORT
                        </div>
                        <div class="limitation-item">✗ <span><strong>Fails C2:</strong> "If you start getting more
                                categories, the metric becomes confounded with the number of categories."</span></div>
                        <div class="limitation-item">✗ <span><strong>Fails C3:</strong> "Complete disagreement is
                                unlikely. Even guessing randomly produces some agreement — so scores are biased
                                higher."</span></div>
                        <div class="limitation-item">✗ <span><strong>Fails C4:</strong> "Really only works for nominal
                                data. Doesn't work for categorical or other data types."</span></div>
                    </div>
                </div>

                <!-- Krippendorff's Alpha -->
                <div class="metric-card recommended">
                    <div class="metric-card-header">
                        <div>
                            <div
                                style="font-size:11px;font-weight:700;letter-spacing:0.08em;color:#15803D;margin-bottom:4px;">
                                GOLD STANDARD</div>
                            <h3>Krippendorff's Alpha</h3>
                        </div>
                        <span class="badge-rec">★ RECOMMENDED</span>
                    </div>
                    <p class="metric-desc-text">"A reliability statistic that addresses all criteria." — The standard
                        metric for inter-annotator agreement.</p>

                    <div class="formula-box" role="math" aria-label="Krippendorff's Alpha formula">
                        α = 1 − (D<sub>observed</sub> / D<sub>expected</sub>)
                    </div>
                    <p style="font-size:12px;color:var(--clr-text-md);margin-bottom:14px;">"If the observed
                        disagreements equal the expected, alpha equals one." Combinatorics account for what we expect
                        based on data structure.</p>

                    <div style="font-size:12px;font-weight:700;color:var(--clr-text-sm);margin-bottom:8px;">ALL CRITERIA
                        MET</div>
                    <div class="criteria-check-grid">
                        <div class="check-item"><span class="chk pass">✓</span> Criterion 1</div>
                        <div class="check-item"><span class="chk pass">✓</span> Criterion 2</div>
                        <div class="check-item"><span class="chk pass">✓</span> Criterion 3</div>
                        <div class="check-item"><span class="chk pass">✓</span> Criterion 4</div>
                        <div class="check-item"><span class="chk pass">✓</span> Criterion 5</div>
                    </div>

                    <div class="limitations" style="border-top-color:#BBF7D0;">
                        <div style="font-size:12px;font-weight:700;color:#065F46;margin-bottom:8px;">ADDITIONAL
                            STRENGTHS</div>
                        <div class="limitation-item" style="color:#065F46;">✓ <span>Handles missing data and
                                inconsistent annotator counts per item</span></div>
                        <div class="limitation-item" style="color:#065F46;">✓ <span>Works across nominal, categorical,
                                ordinal, and interval data</span></div>
                        <div class="limitation-item" style="color:#D97706;">⚠ <span style="color:#92400E;">Not widely
                                available in most statistical software — verify by hand on toy examples first</span>
                        </div>
                    </div>
                </div>

            </div><!-- /metric-compare -->

            <!-- Literacy Sidebar -->
            <div class="literacy-sidebar">
                <h4><i data-lucide="book-open" style="width:14px;height:14px;display:inline;"></i> IAA Statistics
                    Literacy Note</h4>
                <p>Be familiar with other IAA statistics — <strong>Cohen's Kappa, Fleiss' Kappa, Scott's Pi</strong> —
                    they may be used in projects you join. "At least there's been an effort to measure the quality of
                    training data" — and recognizing that effort matters even if you'd prefer Krippendorff's Alpha.</p>
            </div>

            <!-- F-Measure Warning -->
            <div class="fmeasure-warn">
                <div class="fw-header">
                    <i data-lucide="alert-triangle" style="width:24px;height:24px;color:#EF4444;"></i>
                    <div class="fw-title">⚠ COMMON MISTAKE: Do NOT Use F-Measure as a Data Quality Metric</div>
                </div>
                <div class="fw-body">
                    <div class="fw-block">
                        <h5>What F-Measure Actually Measures</h5>
                        <p>"F-measure is the measure of performance where we're measuring the balance of precision and
                            recall to assess the performance of a classifier. It is not the measure of how good did we
                            label the data."</p>
                    </div>
                    <div class="fw-block">
                        <h5>Why This Mistake Matters</h5>
                        <p>"I can't tell you how many times I've seen people mistakenly use F-measure as a measure of
                            data quality. You're compromising that metric if you're using it for data quality."</p>
                    </div>
                </div>
            </div>

        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION F — TYPES OF DATA BIAS                          -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-bias" aria-label="Types of Data Bias">
            <div class="section-label">
                <i data-lucide="database" style="width:13px;height:13px;"></i>
                Supporting Context
            </div>
            <h2 class="section-title">Common Types of Data Bias in AI Systems</h2>
            <p class="section-intro">The document focuses on <strong>labeling bias</strong> — annotation inconsistency
                as a primary bias source. Here are other data biases to watch for across the full data pipeline.</p>

            <div class="bias-grid">

                <!-- Collection Biases -->
                <div class="bias-col-wrap">
                    <div class="bias-col-header collection">
                        <i data-lucide="pie-chart" style="width:14px;height:14px;display:inline;"></i> Collection Biases
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Sampling Bias</div>
                        <div class="bias-desc">Training data is not representative of the target population it will be
                            applied to.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Selection Bias</div>
                        <div class="bias-desc">Systematic exclusion of certain data points skews the dataset from the
                            start.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Reporting Bias</div>
                        <div class="bias-desc">Only certain outcomes or events get recorded, hiding important patterns
                            from the model.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Survivorship Bias</div>
                        <div class="bias-desc">Analyzing only data that "survived" a selection process ignores crucial
                            failure cases.</div>
                    </div>
                </div>

                <!-- Labeling Biases — HIGHLIGHTED -->
                <div class="bias-col-wrap labeling-col">
                    <div class="bias-col-header labeling">
                        <i data-lucide="tag" style="width:14px;height:14px;display:inline;"></i> Labeling Biases
                        <span class="labeling-primary-badge">PRIMARY FOCUS</span>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Label Bias</div>
                        <div class="bias-desc">Subjective or inconsistent human annotation introduces systematic errors
                            into training labels.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Annotator Bias</div>
                        <div class="bias-desc">Individual annotator backgrounds and worldviews color the labels they
                            assign.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Anchoring Bias</div>
                        <div class="bias-desc">Annotators are unduly influenced by previously seen examples or first
                            impressions.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Fatigue Bias</div>
                        <div class="bias-desc">Annotation quality degrades over long labeling sessions as cognitive load
                            accumulates.</div>
                    </div>
                </div>

                <!-- Representation Biases -->
                <div class="bias-col-wrap">
                    <div class="bias-col-header representation">
                        <i data-lucide="brain" style="width:14px;height:14px;display:inline;"></i> Representation Biases
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Historical Bias</div>
                        <div class="bias-desc">Past societal inequities are embedded in historical training data and
                            reproduced by the model.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Representation Bias</div>
                        <div class="bias-desc">Underrepresentation of certain groups or categories in training data
                            leads to poor generalization.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Measurement Bias</div>
                        <div class="bias-desc">Proxies used to measure a concept don't accurately capture the intended
                            variable.</div>
                    </div>
                    <div class="bias-card">
                        <div class="bias-name">Temporal Bias</div>
                        <div class="bias-desc">Data reflecting one time period is applied to a different context where
                            conditions have changed.</div>
                    </div>
                </div>

            </div><!-- /bias-grid -->
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION G — PRACTICAL GUIDELINES                        -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-guide" aria-label="Practical Guidelines">
            <div class="section-label">
                <i data-lucide="activity" style="width:13px;height:13px;"></i>
                Actionable Complement
            </div>
            <h2 class="section-title">Practical Guidelines: Improving Annotation Quality</h2>
            <p class="section-intro">Measurement is the foundation — but action closes the loop. Use these
                phase-by-phase guidelines to build consistent, high-quality labeled datasets.</p>

            <div class="guide-cards">

                <div class="guide-card">
                    <div class="phase-label">
                        <div class="phase-icon-wrap" style="background:#FEF3C7;">
                            <i data-lucide="clipboard-list" style="width:16px;height:16px;color:#D97706;"></i>
                        </div>
                        <div class="phase-name">Before</div>
                    </div>
                    <ul class="guide-list">
                        <li>Develop detailed annotation guidelines with worked examples</li>
                        <li>Create a shared codebook defining every label and edge case</li>
                        <li>Run calibration sessions on sample data before the real task</li>
                        <li>Select annotators with appropriate domain expertise</li>
                    </ul>
                </div>

                <div class="guide-card">
                    <div class="phase-label">
                        <div class="phase-icon-wrap" style="background:#D1FAE5;">
                            <i data-lucide="activity" style="width:16px;height:16px;color:#10B981;"></i>
                        </div>
                        <div class="phase-name">During</div>
                    </div>
                    <ul class="guide-list">
                        <li>Calculate Krippendorff's Alpha on overlapping subsets throughout — not just at the end</li>
                        <li>Assign multiple annotators to critical or ambiguous cases</li>
                        <li>Monitor for annotator fatigue and quality drift over time</li>
                        <li>Flag high-disagreement items for expert adjudication</li>
                    </ul>
                </div>

                <div class="guide-card">
                    <div class="phase-label">
                        <div class="phase-icon-wrap" style="background:#EDE9FE;">
                            <i data-lucide="wrench" style="width:16px;height:16px;color:#8B5CF6;"></i>
                        </div>
                        <div class="phase-name">After</div>
                    </div>
                    <ul class="guide-list">
                        <li>Analyze disagreement patterns to identify systematic issues</li>
                        <li>Revise guidelines and re-annotate problematic subsets</li>
                        <li>Apply consensus mechanisms (majority vote, expert adjudication)</li>
                        <li>Document annotation quality metrics alongside the dataset</li>
                    </ul>
                </div>

                <div class="guide-card">
                    <div class="phase-label">
                        <div class="phase-icon-wrap" style="background:#FEE2E2;">
                            <i data-lucide="refresh-cw" style="width:16px;height:16px;color:#EF4444;"></i>
                        </div>
                        <div class="phase-name">Ongoing</div>
                    </div>
                    <ul class="guide-list">
                        <li>Treat annotation quality as a continuous process, not one-time</li>
                        <li>Track Krippendorff's Alpha over time as a data quality KPI</li>
                        <li>Address label consistency early — technical debt compounds</li>
                        <li>Re-evaluate guidelines as the domain evolves</li>
                    </ul>
                </div>

            </div>
            <div class="guide-arrow">
                <i data-lucide="refresh-cw" style="width:14px;height:14px;color:#10B981;"></i>
                "Ongoing" feeds back into "Before" — annotation quality is a continuous improvement cycle
            </div>
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION H — KEY TAKEAWAYS                               -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <section class="section s-take" aria-label="Key Takeaways">
            <div class="section-label">
                <i data-lucide="lightbulb" style="width:13px;height:13px;"></i>
                Key Takeaways
            </div>
            <h2 class="section-title">What This All Means</h2>

            <div class="takeaway-grid">

                <div class="takeaway-card highlight">
                    <div class="takeaway-num">1</div>
                    <p>Human experts disagree far more than expected — <strong>17%, 32%, even 72%</strong> — and this
                        disagreement directly biases AI systems from the ground up.</p>
                </div>

                <div class="takeaway-card">
                    <div class="takeaway-num">2</div>
                    <p><em>"It's unlikely to expect that the AI is going to do better initially than human
                            agreement."</em> Your model's ceiling is set by your annotators' consensus.</p>
                </div>

                <div class="takeaway-card">
                    <div class="takeaway-num">3</div>
                    <p><strong>Annotation consistency drives precision; data volume drives recall.</strong> Both matter
                        — but consistency must come first in any pilot-to-scale strategy.</p>
                </div>

                <div class="takeaway-card">
                    <div class="takeaway-num">4</div>
                    <p><em>"If you do not address the consistency of your labels upfront and early, you're going to be
                            incurring technical debt that is not easy to recover from."</em></p>
                </div>

                <div class="takeaway-card highlight">
                    <div class="takeaway-num">5</div>
                    <p><strong>Krippendorff's Alpha</strong> is the standard metric for inter-annotator agreement. Learn
                        it, use it, and verify it by hand on toy examples before trusting software output.</p>
                </div>

                <div class="takeaway-card">
                    <div class="takeaway-num">6</div>
                    <p><strong>F-measure measures classifier performance — not data quality.</strong> These are
                        fundamentally different. Confusing them compromises both metrics.</p>
                </div>

                <div class="takeaway-card" style="grid-column: 1 / -1;">
                    <div class="takeaway-num">7</div>
                    <p>Measuring label quality is the first step toward managing data bias. You cannot fix what you do
                        not measure — and you cannot measure without the right tool.</p>
                </div>

            </div>

            <div class="final-cta">
                <p>You Cannot Fix What You Do Not Measure.</p>
                <small>Start with inter-annotator agreement. Measure consistently. Act early. Bias mitigation begins at
                    the data label.</small>
            </div>
        </section>


        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- SECTION I — FOOTER                                      -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <footer class="s-footer" aria-label="Footer">
            <p class="foot-attr">Dr. Ian McCullough · Johns Hopkins University</p>
            <p>Lecture: Bias Mitigation — Inter-Annotator Agreement &amp; Annotation Quality in AI Systems</p>
            <p style="margin-top:10px;font-size:12px;">For further reading, explore Krippendorff's foundational work:
                <em>Content Analysis: An Introduction to Its Methodology</em> (2018).</p>
            <p style="margin-top:6px;font-size:11px;color:#94A3B8;">This infographic is for educational purposes.
                Print-friendly: File → Print or use browser's print function.</p>
        </footer>

    </div><!-- /infographic -->

    <!-- ═══════════════════════════════════════════════════════ -->
    <!-- SCRIPTS                                                -->
    <!-- ═══════════════════════════════════════════════════════ -->
    <script>
        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });

        // Toggle annotation view
        function switchAnnotation(type) {
            document.querySelectorAll('.annotation-view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('view-' + type).classList.add('active');
            document.querySelector('.toggle-btn.' + type).classList.add('active');
        }

        // Toggle results panel
        function toggleResults() {
            const panel = document.getElementById('results-panel');
            const btn = document.querySelector('.results-btn');
            if (panel.classList.contains('visible')) {
                panel.classList.remove('visible');
                btn.textContent = '👁 Drop Inconsistent Annotator → See Results';
            } else {
                panel.classList.add('visible');
                btn.textContent = '▲ Hide Results';
            }
        }

        // Toggle criterion expansion
        function toggleCriterion(card) {
            const isExpanded = card.classList.contains('expanded');
            // Collapse all
            document.querySelectorAll('.criterion-card').forEach(c => {
                c.classList.remove('expanded');
                c.setAttribute('aria-expanded', 'false');
            });
            // Expand clicked if was not expanded
            if (!isExpanded) {
                card.classList.add('expanded');
                card.setAttribute('aria-expanded', 'true');
            }
        }

        // Scroll-triggered fade-in for sections
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.08 });

        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(section);
        });

        // Make the header immediately visible
        document.querySelector('.s-header').style.opacity = '1';
        document.querySelector('.s-header').style.transform = 'translateY(0)';
    </script>

    <!-- GoatCounter Analytics -->
    <script data-goatcounter="https://kishoretech.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
</body>

</html>